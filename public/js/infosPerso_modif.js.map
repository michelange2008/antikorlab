{"version":3,"file":"/js/infosPerso_modif.js","mappings":"AACAA,EAAE,UAAUC,KAAK,YAAY,GAC7BD,EAAE,eAAeC,KAAK,YAAY,GAClCD,EAAE,uBAAuBC,KAAK,YAAY,GAG1CD,EAAE,YAAYE,GAAG,SAAS,WAExBF,EAAE,UAAUC,KAAK,YAAY,GAC7BD,EAAE,eAAeC,KAAK,YAAY,GAClCD,EAAE,uBAAuBC,KAAK,YAAY,GAC1CD,EAAE,YAAYG,OACdH,EAAEI,MAAMD,OACRH,EAAE,WAAWK,MAEf,IAGAL,EAAE,gBAAgBM,QAAO,SAASC,GAEhCA,EAAEC,iBAEF,IAoDeC,EApDXC,EAASV,EAAEI,MAAMO,YAEjBC,EAAMZ,EAAEI,MAAMH,KAAK,UAGnBY,EAAQb,EAAE,eAAec,MA+CdL,EA7CHI,EA+CG,IAAIE,OAAO,mDAAmD,KAE7DC,KAAKP,IApCnBT,EAAE,eAAeiB,YAAY,cAE7BjB,EAAEkB,KAAK,CAELN,IAAKA,EACLO,SAAW,OACXC,KAAMV,IAGPW,MAAK,SAASD,GACVA,EAAKE,QACNtB,EAAEuB,MAAM,CACNC,MAAO,OACPC,MAAO,YACPC,QAAS1B,EAAE,kBAAkBC,KAAK,WAClC0B,KAAM,QAGV3B,EAAE,UAAUC,KAAK,WAAY,YAC7BD,EAAE,eAAeC,KAAK,YAAY,GAClCD,EAAE,uBAAuBC,KAAK,YAAY,GAC1CD,EAAE,YAAYK,OACdL,EAAE,WAAWG,MACf,IACCyB,MAAK,SAASR,GACbS,QAAQC,IAAI,SACd,MArCA9B,EAAEuB,MAAM,CACNE,MAAO,YACPC,QAAS1B,EAAE,qBAAqBC,KAAK,WACrC0B,KAAM,QAGR3B,EAAE,eAAe+B,SAAS,cAAcC,QAmC5C","sources":["webpack://parasitlab/./resources/js/infosPerso_modif.js"],"sourcesContent":["// FONCTION DESTINEE A PASSER LE FORMULAIRE DE MODIFICATION DES DONNEES DU VETERINAIRE D'ACTIF A INACTIF ET VICE-VERSA\n$(\":input\").attr('readonly', true);\n$(\"#liste_pays\").attr('disabled', true);\n$(\"#liste_veterinaires\").attr('disabled', true);\n\n\n$('#modifie').on('click', function() {\n\n  $(\":input\").attr('readonly', false);\n  $(\"#liste_pays\").attr('disabled', false);\n  $(\"#liste_veterinaires\").attr('disabled', false);\n  $(\"#new_vet\").hide();\n  $(this).hide();\n  $('#valide').show();\n\n});\n\n\n$('#modif_infos').submit(function(e) {\n\n  e.preventDefault();\n\n  var saisie = $(this).serialize();\n\n  var url = $(this).attr('action');\n\n  // On vérifie que l'adresse email a un format valide. Les autres vérif sont faites par le formulaire lui-même et UserController@store\n  var email = $('#champ_mail').val();\n\n  if(!isEmail(email)) {\n\n    $.alert({\n      title: \"Attention\",\n      content: $('#email_non_valide').attr('message'),\n      type: 'red'\n    });\n\n    $('#champ_mail').addClass('is-invalid').focus();\n  }\n\n  else {\n\n    $('#champ_mail').removeClass('is-invalid');\n\n    $.post({\n\n      url: url,\n      datatype:  'html',\n      data: saisie\n\n    })\n    .done(function(data) {\n      if(data.erreur) {\n        $.alert({\n          theme: 'dark',\n          title: \"Attention\",\n          content: $('#email_doublon').attr('message'),\n          type: 'red'\n        });\n      }\n      $(\":input\").attr('readonly', 'readonly');\n      $(\"#liste_pays\").attr('disabled', true);\n      $(\"#liste_veterinaires\").attr('disabled', true);\n      $('#modifie').show();\n      $('#valide').hide();\n    })\n    .fail(function(data) {\n      console.log('ERREUR');\n    })\n\n  }\n\n});\n// Fonction pour vérifier si un email a un format valide\nfunction isEmail(myVar){\n  // La 1ère étape consiste à définir l'expression régulière d'une adresse email\n  var regEmail = new RegExp('^[0-9a-z._-]+@{1}[0-9a-z.-]{2,}[.]{1}[a-z]{2,5}$','i');\n\n  return regEmail.test(myVar);\n}\n"],"names":["$","attr","on","hide","this","show","submit","e","preventDefault","myVar","saisie","serialize","url","email","val","RegExp","test","removeClass","post","datatype","data","done","erreur","alert","theme","title","content","type","fail","console","log","addClass","focus"],"sourceRoot":""}