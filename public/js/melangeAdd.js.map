{"version":3,"file":"/js/melangeAdd.js","mappings":"MACAA,EAAE,sCAAsCC,KAAK,YAAY,GACzDD,EAAE,mBAAmBE,OACrB,IAAIC,EAAa,EAEjBH,EAAE,YAAYI,GAAG,UAAU,WACzB,IAAIC,EAAaL,EAAE,4BAA4BC,KAAK,SAChDK,EAAMN,EAAE,UAAUO,OAAOC,QAAQ,UAAWH,GAEhDL,EAAES,IAAI,CACJH,IAAKA,IAENI,MAAK,SAASC,GACb,IAAIC,EAAYC,KAAKC,MAAMH,GAG3B,GAAmB,GAFDC,EAAUG,OAG1Bf,EAAE,sCAAsCgB,QAAQC,OAAO,mEAAmEhB,KAAK,YAAW,OAGvI,CACH,IAAIiB,EAAU,mEACd,IAAI,IAAIC,KAAQP,EAAU,CACxB,IAAIQ,EAAWR,EAAUO,GACzBD,GAAW,kBAAoBE,EAASC,GAAK,KAAOD,EAASE,IAAM,WACrE,CACAtB,EAAE,sCAAsCgB,QAAQC,OAAOC,GAASjB,KAAK,YAAY,EACnF,CACF,GACF,IAEAD,EAAE,sCAAsCI,GAAG,UAAU,WACnDD,EAAcH,EAAE,sCAAsCuB,MACtDC,MAAQxB,EAAE,mBAAmBC,KAAK,QAClCD,EAAE,mBAAmBC,KAAK,OAAQuB,MAAQ,IAAMrB,GAChDH,EAAE,mBAAmByB,QACvB,G","sources":["webpack://parasitlab/./resources/js/melangeAdd.js"],"sourcesContent":["// Appelé dans la page labo.admin.melanges.choix_troupeau.blade\n$(\"#troupeau_animal_ou_melange_create\").attr('disabled', true); // On inactive la liste des troupeaux\n$(\"#choix_troupeau\").hide();// On rend invisible de bouton tant que l'éleveur et le troupeau ne sont pas choisis\nvar troupeau_id= 0; // On met l'id du troupeau à 0\nvar eleveur_id = 0;\n$(\"#eleveur\").on('change', function() {\n  var eleveur_id = $('#eleveur option:selected').attr('value');\n  var url = $(\"#route\").html().replace('user_id', eleveur_id); // On modifie la ligne (invisible) avec le n° de l'éleveur\n  // On va chercher la liste des troupeaux de l'éleveur\n  $.get({\n    url: url,\n  })\n  .done(function(datas) {\n    var troupeaux = JSON.parse(datas);\n    var nb_troupeau = troupeaux.length;\n    // S'il n'y a pas de troupeau on prévient qu'il faut en créer un d'abord\n    if (nb_troupeau == 0) {\n      $(\"#troupeau_animal_ou_melange_create\").empty().append('<option>Aucun troupeau: il faut en ajouter au moins un</option>').attr('disabled',true);\n    }\n    // Sinon on fait une liste d'options avec une case vide au départ et la liste des troupeaux après\n    else {\n      var options = '<option value=\"0\" selected disabled>Choisir un troupeau</option>';\n      for(var item in troupeaux){\n        var troupeau = troupeaux[item];\n        options += '<option value=\"' + troupeau.id + '\">' + troupeau.nom + '</option>'\n      }\n      $(\"#troupeau_animal_ou_melange_create\").empty().append(options).attr('disabled', false);\n    }\n  })\n})\n\n$('#troupeau_animal_ou_melange_create').on('change', function() {\n  troupeau_id = $('#troupeau_animal_ou_melange_create').val();\n  route = $(\"#choix_troupeau\").attr('href');\n  $('#choix_troupeau').attr('href', route + '/' + troupeau_id);\n  $(\"#choix_troupeau\").fadeIn();\n})\n"],"names":["$","attr","hide","troupeau_id","on","eleveur_id","url","html","replace","get","done","datas","troupeaux","JSON","parse","length","empty","append","options","item","troupeau","id","nom","val","route","fadeIn"],"sourceRoot":""}