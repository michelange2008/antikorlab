/*! For license information please see app.js.LICENSE.txt */
(()=>{var e,t={244:()=>{$(".observations").on("change",(function(){var e=$(this).attr("id");$(":input[type=checkbox]").each((function(e,t){$(this).attr("checked",!1)}));var t=$(this).children("option:selected").val(),n=window.location.protocol+"//"+window.location.host+window.location.pathname;if("observationsAnatypes"==e)var a=n.replace("laboratoire/algorithme/exclusions/create","api/exclusionsAnatypeObservation/"+t);else if("observationsAnaactes"==e)a=n.replace("laboratoire/algorithme/exclusionsAnaacte/create","api/exclusionsAnaacteObservation/"+t);else console.log("erreur");$.get({url:a}).done((function(e){var t=JSON.parse(e);t.length>0&&$.each(t,(function(e,t){var n="espece_"+t.espece_id,a="age_"+t.age_id,i="anatype_"+t.anatype_id,o="anaacte_"+t.anaacte_id;$(":input[type=checkbox]").each((function(e,t){(t.id==n||t.id==a||t.id==i||t.id==o)&&$(this).attr("checked","checked")}))}))})).fail((function(e){console.log(e)}))}))},988:(e,t,n)=>{"use strict";var a=n(740),i=n.n(a);n(265),n(80),n(516),n(138),n(539),n(335),n(362),n(244),n(224),n(914),n(808),$((function(){i().init(),$.ajaxSetup({headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")}}),$('[data-toggle="tooltip"]').tooltip(),$("#table").bootstrapTable(),$(".toast").toast(),$(".carousel").carousel({pause:"hover",wrap:!0}),$(".suppr").on("click",(function(e){e.preventDefault();var t="#"+$(this).attr("id");$.confirm({theme:"dark",type:"red",typeAnimated:"true",title:$(this).attr("titre"),content:$(this).attr("texte"),buttons:{oui:{text:"oui",btnClass:"btn-red",keys:["enter"],action:function(){$(t).submit()}},non:{btnClass:"btn-secondary",keys:["esc"]}}})})),"1"===$("#input_signataire").attr("statut")&&$("#input_signataire").show(),$("#signataire").on("change",(function(){$("#signataire").is(":checked")?$("#input_signataire").show():$("#input_signataire").hide()})),$(".icone_del").on("click",(function(){var e=$(this).attr("alt"),t=$(this).attr("id");console.log(e),$.confirm({type:"red",theme:"dark",title:"Suppression !",content:"Souhaitez-vous vraiment supprimer <strong>"+e+"</strong> ?",buttons:{Oui:function(){$("#icone_suppr_"+t).submit()},Non:function(){}}})})),$(".icone_add").on("click",(function(){var e=$(this).attr("id"),t=$(this).attr("alt");$("#input_choix_icone_nom").attr("value",t),$("#input_choix_icone_id").attr("value",e),$("#modal-choix-icone").modal("hide")}))}))},335:()=>{$(".motclef").on("click",(function(e){$("a").removeClass("alert-bleu-tres-fonce"),$(this).addClass("alert-bleu-tres-fonce"),$("#liste_blogs").empty(),e.preventDefault();var t=$(this).attr("id").split("_")[1],n=window.location.protocol+"//"+window.location.host+window.location.pathname+"/motclef/"+t;$.get({url:n}).done((function(e){$(".blog").hide(),$.each(e,(function(e,t){$("#blog_"+t).show()})),$("#blogs_retablir").show()}))})),$("#blogs_retablir").on("click",(function(){$(".blog").show(),$("#blogs_retablir").hide(),$("a").removeClass("alert-bleu-tres-fonce")})),$(".readmore").on("click",(function(){var e=$(this).attr("id").split("_")[1];$(".readmore").show(),$(this).hide(),$(".readless").hide(),$("#readless_"+e).fadeIn(),$(".blog-contenu").hide(),$("#contenu_"+e).fadeIn()})),$(".readless").on("click",(function(){$(".readless").hide(),$(".readmore").fadeIn(),$(".blog-contenu").hide()}))},265:function(e,t,n){var a,i,o;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}o=function(){"use strict";var e='.custom-file input[type="file"]',t=".custom-file-label",n="form",a="input",i=function(e){if(0<e.childNodes.length)for(var t=[].slice.call(e.childNodes),n=0;n<t.length;n++){var a=t[n];if(3!==a.nodeType)return a}return e},o=function(e){var n=e.bsCustomFileInput.defaultText,a=e.parentNode.querySelector(t);a&&(i(a).textContent=n)},r=!!window.File,l=function(e){if(e.hasAttribute("multiple")&&r)return[].slice.call(e.files).map((function(e){return e.name})).join(", ");if(-1===e.value.indexOf("fakepath"))return e.value;var t=e.value.split("\\");return t[t.length-1]};function s(){var e=this.parentNode.querySelector(t);if(e){var n=i(e),a=l(this);a.length?n.textContent=a:o(this)}}function c(){for(var e=[].slice.call(this.querySelectorAll(a)).filter((function(e){return!!e.bsCustomFileInput})),t=0,n=e.length;t<n;t++)o(e[t])}var u="bsCustomFileInput",d="reset",p="change";return{init:function(a,i){void 0===a&&(a=e),void 0===i&&(i=n);for(var o,r,l=[].slice.call(document.querySelectorAll(a)),m=[].slice.call(document.querySelectorAll(i)),f=0,$=l.length;f<$;f++){var v=l[f];Object.defineProperty(v,u,{value:{defaultText:(o=void 0,o="",(r=v.parentNode.querySelector(t))&&(o=r.textContent),o)},writable:!0}),s.call(v),v.addEventListener(p,s)}for(var h=0,b=m.length;h<b;h++)m[h].addEventListener(d,c),Object.defineProperty(m[h],u,{value:!0,writable:!0})},destroy:function(){for(var e=[].slice.call(document.querySelectorAll(n)).filter((function(e){return!!e.bsCustomFileInput})),t=[].slice.call(document.querySelectorAll(a)).filter((function(e){return!!e.bsCustomFileInput})),i=0,r=t.length;i<r;i++){var l=t[i];o(l),l[u]=void 0,l.removeEventListener(p,s)}for(var m=0,f=e.length;m<f;m++)e[m].removeEventListener(d,c),e[m][u]=void 0}}},"object"==r(t)?e.exports=o():void 0===(i="function"==typeof(a=o)?a.call(t,n,t,e):a)||(e.exports=i)},914:()=>{$(".consentement").on("change",(function(){var e=(window.location.protocol+"//"+window.location.host+window.location.pathname).replace("eleveur","consentement"),t={user_id:$(this).attr("user"),consentement:$(this).attr("id")};$.post({url:e,data:t}).done((function(e){if(1==e)var t="Merci de votre choix.";else t="Nous avons pris note de votre choix.";$.alert({animation:"opacity",closeAnimation:"opacity",theme:"dark",type:"green",title:"Vos préférences",content:t,buttons:{OK:{keys:["enter","esc"]}}})})).fail((function(e){console.log(e)}))}))},808:()=>{"France"==$("#liste_pays option:selected").val()?$("#indicatif").parent().hide():$("#indicatif").show(),$("#liste_pays").on("change",(function(){"France"==$("#liste_pays option:selected").val()?($("#indicatif").val(33),$("#indicatif").parent().hide()):($("#indicatif").val(""),$("#indicatif").parent().show())})),$("#userCreateForm").on("submit",(function(e){e.preventDefault();var t,n=$("#champ_mail").val();if(t=n,new RegExp("^[0-9a-z._-]+@{1}[0-9a-z.-]{2,}[.]{1}[a-z]{2,5}$","i").test(t)){var a=$(this).serialize(),i=(window.location.protocol+"//"+window.location.host+window.location.pathname).replace("/create","");$.post({url:i,dataType:"html",data:a}).done((function(e){try{JSON.parse(e)}catch(e){$.alert({title:"Attention",content:$("#email_doublon").attr("message"),type:"red"})}finally{var t=JSON.parse(e)}var n=t.usertype.code;$("#"+n+"CreateForm").removeClass("d-none"),$("#enregistreAnnule").addClass("d-none"),$("#titreCreationUser").removeClass("d-flex").addClass("d-none"),$("#inputUsertype").addClass("d-none"),$("#identite").addClass("d-none"),$('input[name = "address_1"]').focus()})).fail((function(e){alert("Désolée, un problème est arrivé à l'enregistrement du nouvel utilisateur. \n\nAppelez Bouiboui !")}))}else $.alert({title:"Attention",content:$("#email_non_valide").attr("message"),type:"red"})}))},80:()=>{var e=!1;$("form#form_signer").on("click",(function(t){e||(t.preventDefault(),$.confirm({theme:"dark",type:"green",title:"Signer une analyse",content:"Veux-tu vraiment signer ces résultats ?",buttons:{oui:{text:"oui",btnClass:"btn-success",action:function(){e=!0,$("form#form_signer").trigger("submit")}},non:function(){}}}))}))},539:()=>{$(".btn_enpratique").on("click",(function(e){e.preventDefault();var t="#"+$(this).attr("id").split("_")[1];$(".panneau").hide(),$(t).fadeIn(),$(".btn_enpratique").removeClass("btn-lg").removeClass("btn-sm"),$(this).addClass("btn-lg")}))},516:()=>{function e(){$.confirm({theme:"dark",type:"red",typeAnimated:"true",title:"Problème !!!",content:"Il y a eu un problème, merci de réessayer",buttons:{ok:{text:"ok",keys:["enter","escape"]}}})}$(".a-envoyer").on("click",(function(){var t=$(this).attr("destinataire"),n=$(this).attr("type"),a=window.location.protocol+"//"+window.location.host+window.location.pathname;if("all"===n)var i=a.replace("demandes","envoyer_tous/"+t);else if("single"===n)i=a.replace("demandes","envoyer/"+t);else e();$.confirm({theme:"dark",type:"green",typeAnimated:"true",title:"Envoyer une analyse",content:"Dois-je envoyer ces résultats aux destinataires ?",buttons:{oui:{text:"oui",btnClass:"btn-success",action:function(){$("#envoi-spinner").fadeIn(),$.get({url:i}).done((function(e){$("#envoi-spinner").hide(),location.reload()})).fail((function(t){$("#envoi-spinner").hide(),console.log(t),e()}))}},non:function(){}}})}))},224:()=>{var e=window.location.protocol+"//"+window.location.host+window.location.pathname;function t(t){url=e.replace("choix","anaitemsFromEspece/"+t),$.get({url,data:t}).done((function(e){var t=JSON.parse(e),n="",a=!1;$.each(t,(function(e,t){$("#anaitems_export").val().includes(t.id.toString())?(a=!0,n+='<option value="'+t.id+'" selected>'+t.nom+"</option>"):n+='<option value="'+t.id+'">'+t.nom+"</option>"})),$("#anaitems_export").empty().append(n),a||($("#anaitems_export").val(""),$("#nb_enregistrements").html(""))}))}$("form#choix button[type=submit]").prop("disabled",!0),$("#anaitems_export").empty(),$("#all_anaitems").prop("disabled",!0),$("#especes_export").on("click",(function(){var e=$(this).val().toString();$("#all_especes").prop("checked",!0)&&$("#all_especes").prop("checked",!1);$("#especes_export").val();$("#all_anaitems").prop("checked",!0)&&($("#all_anaitems").prop("checked",!1),$("#anaitems_export option").prop("selected",!1)),t(e),$("#nb_enregistrements").empty()})),$("#anaitems_export").on("click",(function(){var e="#all_"+$(this).attr("id");if($(e).prop("checked",!0)){$(e).prop("checked",!1);var t="#"+$(this).attr("id"),n=$(t).val().toString();$(t+" option").prop("selected",!1),$(t+" option[value="+n+"]").prop("selected",!0)}})),$("#all_especes_export").on("change",(function(){$(this).prop("checked")?($("#all_anaitems").prop("disabled",!1),$("#especes_export option").prop("selected",!0).trigger("change"),t($("#especes_export").val())):($("#especes_export option").prop("selected",!1).trigger("change"),$("#anaitems_export").empty(),$("#all_anaitems_export").prop("checked",!1),$("#nb_enregistrements").empty())})),$("#all_anaitems_export").on("change",(function(){$(this).prop("checked")?($("#anaitems_export option").prop("selected",!0).trigger("change"),$("#all_anaitems_export").prop("disabled",!1)):($("#anaitems_export option").prop("selected",!1).trigger("change"),$("#all_anaitems").prop("checked",!1),$("#nb_enregistrements").empty())})),$("form#choix").on("change",(function(t){if(0!==$("#especes_export").val().length&&0!==$("#anaitems_export").val().length){var n=$(this).serialize();url=e.replace("choix","comptage"),$.post({url,data:n}).done((function(t){var n="";0==t?(n='<div class="px-3 pt-3 pb-1 alert-rouge"><p id="nb_enregistrements" class="lead"><i class="fas fa-sad-tear"></i> Il n\'y a aucun enregistrement.</p></div>',$("button[type=submit]").attr("disabled","disabled")):(n=1==t?'<div id="exporter" class="px-3 pt-3 pb-1 alert-warning"><p id="nb_enregistrements" class="lead"><i class="fas fa-grin"></i> Il y a 1 enregistrement</p></div>':'<div id="exporter" class="px-3 pt-3 pb-1 alert-success"><p id="nb_enregistrements" class="lead"><i class="fas fa-grin"></i> Il y a '+t+" enregistrements.</p></div>",$("button[type=submit]").removeAttr("disabled"),$("form").attr("action",e.replace("choix","export"))),$("#nb_enregistrements").empty().append(n)})).fail((function(e){console.log(e)}))}}))},362:()=>{$(".telFormulaire").on("click",(function(e){e.preventDefault(),function(e){$("#card-especes").empty(),$.get({url:e}).done((function(t){console.log(JSON.parse(t));var n=e.replace("api/especes","storage/img/icones/"),a=JSON.parse(t);$.each(a,(function(e,t){var a='<img id="'+t.abbreviation+'" class="espece-pdf img-65 img-change mx-3 pointeur" src="'+n+t.abbreviation+'.svg" alt="'+t.nom+'" title="'+t.nom+'">';$("#card-especes").append(a)}))})).fail((function(e){console.log(e)})),$("#choix").fadeIn(),$(".card-body").on("click",".espece-pdf",(function(){url_pdf=e.replace("api/especes","storage/pdf/formulaire_"+$(this).attr("id")+".pdf"),window.open(url_pdf,null),$("#choix").fadeOut()})),$("#choix_annule").on("click",(function(){$("#choix").fadeOut()}))}($(this).attr("href"))}))},138:()=>{var e="",t=/[0-9]+/g,n=[];$(".animal_numero").each((function(){n.push($(this).val())})),$("#add_animal_numero").focus(),$(".btn_animal_edit").hide(),$("#add_animal_numero").on("keyup",(function(e){27===e.which&&($(this).removeClass("is-invalid"),$(this).val("")),-1!=$.inArray($(this).val(),n)?($(this).addClass("is-invalid"),$("#add_animal_btn").attr("disabled","disabled")):($(this).removeClass("is-invalid"),$("#add_animal_btn").removeAttr("disabled"))})),$("#add_animal_numero").on("blur",(function(){-1!=$.inArray($(this).val(),n)?($(this).addClass("is-invalid").focus(),$("#add_animal_btn").attr("disabled","disabled")):($(this).removeClass("is-invalid"),$("#add_animal_btn").removeAttr("disabled"))}));var a=!1;function i(t,n){$(t).addClass("is-invalid"),$(t).on("blur",(function(){$(t).val(e),$(t).removeClass("is-invalid"),$(n).removeAttr("disabled")}))}$("#add_animal").on("submit",(function(e){a||(e.preventDefault(),""==$("#add_animal_numero").val()&&""==$("#add_animal_nom").val()?$.alert({theme:"dark",type:"red",title:"Attention",content:"Il faut au moins saisir un nom ou un numéro",buttons:{OK:{btnClass:"btn-success",keys:["enter"],function:function(){$("#add_animal_numero").focus()}}}}):""!=$("#add_animal_numero").val()&&""==$("#add_animal_nom").val()?t.test($("#add_animal_numero").val())?(a=!0,$("#add_animal").submit()):$.confirm({theme:"dark",type:"green",title:"Attention",content:"Souhaitez-vous saisir juste un nom sans numéro ?",buttons:{OUI:{btnClass:"btn-success",keys:["enter"],action:function(){-1==$.inArray($("#add_animal_nom").val(),n)?(a=!0,$("#add_animal").submit()):(i($("#add_animal_numero"),$("#add_animal_btn").attr("id")),close())}},NON:{btnClass:"btn-danger",keys:["esc"],action:function(){$("#add_animal_numero").val("").focus()}}}}):""==$("#add_animal_numero").val()&&""!=$("#add_animal_nom").val()?$.confirm({theme:"dark",type:"green",title:"Confirmation",content:"Vous confirmez que l'animal n'a pas de numéro !",buttons:{oui:{btnClass:"btn-success",keys:["enter"],action:function(){-1==$.inArray($("#add_animal_nom").val(),n)?($("#add_animal_numero").val($("#add_animal_nom").val()),$("#add_animal_nom").val(""),a=!0,$("#add_animal").submit()):(console.log("toto"),i($("#add_animal_numero"),$("#add_animal_btn").attr("id")))}},non:{btnClass:"btn-danger",keys:["esc"],action:function(){$("#add_animal_numero").focus()}}}}):t.test($("#add_animal_numero").val())?(a=!0,$("#add_animal").submit()):$.alert({theme:"dark",type:"green",title:"Attention",content:"Il faut saisir un nombre dans le champ 'numero' !",buttons:{ok:{btnClass:"btn-success",keys:["enter"],action:function(){$("#add_animal_numero").val("").focus()}}}}))})),$(".animal_numero").on("focus",(function(){var t=$(this).attr("id");e=t.split("_")[2],n.splice(n.indexOf(e),1);var a="#btn_"+t;$(a).show(),$(this).on("keyup",(function(t){27===t.which?($(a).hide(),$(this).val(e),$(this).removeClass("is-invalid"),$(this).trigger("blur")):-1!=$.inArray($(this).val(),n)?(i($(this),a),$(a).hide()):($(this).removeClass("is-invalid"),$(a).show())}))})),$(".animal_numero").on("blur",(function(){""==$(this).val()&&$(this).val(e);$(this).attr("id")})),$(".animal_existant").on("focus",(function(){$(this).removeClass("form-control-plaintext").addClass("form-control")})),$(".animal_existant").on("blur",(function(){$(this).addClass("form-control-plaintext").removeClass("form-control")}))},740:function(e){e.exports=function(){"use strict";var e={CUSTOMFILE:'.custom-file input[type="file"]',CUSTOMFILELABEL:".custom-file-label",FORM:"form",INPUT:"input"},t=3,n=function(t){var n="",a=t.parentNode.querySelector(e.CUSTOMFILELABEL);return a&&(n=a.textContent),n},a=function(e){if(e.childNodes.length>0)for(var n=[].slice.call(e.childNodes),a=0;a<n.length;a++){var i=n[a];if(i.nodeType!==t)return i}return e},i=function(t){var n=t.bsCustomFileInput.defaultText,i=t.parentNode.querySelector(e.CUSTOMFILELABEL);i&&(a(i).textContent=n)},o=!!window.File,r="fakepath",l="\\",s=function(e){if(e.hasAttribute("multiple")&&o)return[].slice.call(e.files).map((function(e){return e.name})).join(", ");if(-1!==e.value.indexOf(r)){var t=e.value.split(l);return t[t.length-1]}return e.value};function c(){var t=this.parentNode.querySelector(e.CUSTOMFILELABEL);if(t){var n=a(t),o=s(this);o.length?n.textContent=o:i(this)}}function u(){for(var t=[].slice.call(this.querySelectorAll(e.INPUT)).filter((function(e){return!!e.bsCustomFileInput})),n=0,a=t.length;n<a;n++)i(t[n])}var d="bsCustomFileInput",p={FORMRESET:"reset",INPUTCHANGE:"change"};return{init:function(t,a){void 0===t&&(t=e.CUSTOMFILE),void 0===a&&(a=e.FORM);for(var i=[].slice.call(document.querySelectorAll(t)),o=[].slice.call(document.querySelectorAll(a)),r=0,l=i.length;r<l;r++){var s=i[r];Object.defineProperty(s,d,{value:{defaultText:n(s)},writable:!0}),c.call(s),s.addEventListener(p.INPUTCHANGE,c)}for(var m=0,f=o.length;m<f;m++)o[m].addEventListener(p.FORMRESET,u),Object.defineProperty(o[m],d,{value:!0,writable:!0})},destroy:function(){for(var t=[].slice.call(document.querySelectorAll(e.FORM)).filter((function(e){return!!e.bsCustomFileInput})),n=[].slice.call(document.querySelectorAll(e.INPUT)).filter((function(e){return!!e.bsCustomFileInput})),a=0,o=n.length;a<o;a++){var r=n[a];i(r),r[d]=void 0,r.removeEventListener(p.INPUTCHANGE,c)}for(var l=0,s=t.length;l<s;l++)t[l].removeEventListener(p.FORMRESET,u),t[l][d]=void 0}}}()},842:()=>{}},n={};function a(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,i,o)=>{if(!n){var r=1/0;for(u=0;u<e.length;u++){for(var[n,i,o]=e[u],l=!0,s=0;s<n.length;s++)(!1&o||r>=o)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(l=!1,o<r&&(r=o));if(l){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={847:0,252:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var i,o,[r,l,s]=n,c=0;if(r.some((t=>0!==e[t]))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(s)var u=s(a)}for(t&&t(n);c<r.length;c++)o=r[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=self.webpackChunkparasitlab=self.webpackChunkparasitlab||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.O(void 0,[252],(()=>a(988)));var i=a.O(void 0,[252],(()=>a(842)));i=a.O(i)})();
//# sourceMappingURL=app.js.map