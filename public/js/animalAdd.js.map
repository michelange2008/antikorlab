{"version":3,"file":"/js/animalAdd.js","mappings":"MAGA,IAAIA,EAAeC,OAAOC,SAASC,SAAW,KAAOF,OAAOC,SAASE,KAAOH,OAAOC,SAASG,SAG5FC,EAAE,sCAAsCC,KAAK,YAAY,GAEzDD,EAAE,sBAAsBC,KAAK,YAAY,GACzCD,EAAE,sBAAsBC,KAAK,YAAY,GAGzCD,EAAE,YAAYE,GAAG,UAAU,WACzB,IAAIC,EAAaH,EAAE,4BAA4BC,KAAK,SAChDG,EAAMV,EAAaW,QAAQ,4BAA6B,4BAA4BF,GAExFH,EAAEM,IAAI,CACJF,IAAKA,IAENG,MAAK,SAASC,GACb,IAAIC,EAAYC,KAAKC,MAAMH,GAG3B,GAAmB,GAFDC,EAAUG,OAG1BZ,EAAE,sCAAsCa,QAAQC,OAAO,iEAA8Db,KAAK,YAAW,OAElI,CACH,IAAIc,EAAU,GACd,IAAI,IAAIC,KAAQP,EAAU,CACxB,IAAIQ,EAAWR,EAAUO,GACzBD,GAAW,kBAAoBE,EAASC,GAAK,KAAOD,EAASE,IAAM,WACrE,CACAnB,EAAE,sCAAsCa,QAAQC,OAAOC,GAASd,KAAK,YAAY,GACjFD,EAAE,sBAAsBC,KAAK,YAAY,GACzCD,EAAE,sBAAsBC,KAAK,YAAY,EAC3C,CACF,GACF,IAEAD,EAAE,+BAA+BE,GAAG,SAAS,WAC3CkB,QAAQC,IAAI,UACZC,SAAS1B,SAAS2B,KAAK7B,EAAaW,QAAQ,gBAAiB,4BAC/D,G","sources":["webpack://parasitlab/./resources/js/animalAdd.js"],"sourcesContent":["// Permet de gérer le formulaire de création d'un nouvel animal (/laboratoire/animal/create)\n\n// On récupére l'url actuelle\nvar url_actuelle = window.location.protocol + \"//\" + window.location.host + window.location.pathname; // récupère l'adresse de la page actuelle\n\n// On inactive tous les champs qui le doivent\n$(\"#troupeau_animal_ou_melange_create\").attr('disabled', true);\n\n$(\"#num_animal_create\").attr('disabled', true);\n$(\"#nom_animal_create\").attr('disabled', true);\n\n\n$(\"#eleveur\").on('change', function() {\n  var eleveur_id = $('#eleveur option:selected').attr('value');\n  var url = url_actuelle.replace('laboratoire/animal/create', 'api/troupeaus_un_eleveur/'+eleveur_id)\n\n  $.get({\n    url: url,\n  })\n  .done(function(datas) {\n    var troupeaux = JSON.parse(datas);\n    var nb_troupeau = troupeaux.length;\n\n    if (nb_troupeau == 0) {\n      $(\"#troupeau_animal_ou_melange_create\").empty().append('<option>Aucun troupeau: il faut en ajouter un --></option>').attr('disabled',true);\n    }\n    else {\n      var options = '';\n      for(var item in troupeaux){\n        var troupeau = troupeaux[item];\n        options += '<option value=\"' + troupeau.id + '\">' + troupeau.nom + '</option>'\n      }\n      $(\"#troupeau_animal_ou_melange_create\").empty().append(options).attr('disabled', false);\n      $(\"#num_animal_create\").attr('disabled', false);\n      $(\"#nom_animal_create\").attr('disabled', false);\n    }\n  })\n})\n\n$(\"#add_troupeau_animal_create\").on('click', function() {\n  console.log(\"coucou\");\n  document.location.href=url_actuelle.replace('animal/create', 'troupeau/createAvecAnimal');\n})\n"],"names":["url_actuelle","window","location","protocol","host","pathname","$","attr","on","eleveur_id","url","replace","get","done","datas","troupeaux","JSON","parse","length","empty","append","options","item","troupeau","id","nom","console","log","document","href"],"sourceRoot":""}